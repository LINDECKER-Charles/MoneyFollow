<main id="main-content" class="page bg-background-dark text-neutral-100 px-4">
  <section aria-labelledby="reset-title" class="card w-full max-w-lg text-center border border-neutral-700">

    <!-- Titre -->
    <h1 id="reset-title" class="text-3xl font-bold mb-4 text-primary-400">
      Réinitialiser ton mot de passe
    </h1>

    <!-- Description -->
    <p class="text-neutral-300 mb-8">
      Entre ton nouveau mot de passe et confirme-le ci-dessous.
    </p>

    <!-- Message d'erreur global -->
    <div *ngIf="errorMessage" role="alert" class="mb-4 text-red-500 font-semibold">
      {{ errorMessage }}
    </div>

    <!-- Message de succès -->
    <div *ngIf="successMessage" role="status" class="space-y-3 text-green-500 font-medium">
      <p>{{ successMessage }}</p>
      <a routerLink="/login" class="btn-link text-sm">
        ← Retour à la connexion
      </a>
    </div>

    <!-- Formulaire -->
    <form *ngIf="!successMessage" (ngSubmit)="onSumbit()" #resetForm="ngForm" class="space-y-5 text-left">

      <!-- Nouveau mot de passe -->
      <label class="block">
        <span class="label">Nouveau mot de passe</span>
        <input
          type="password"
          name="password"
          [(ngModel)]="password"
          required
          placeholder="••••••••"
          class="input mt-1"
        />
      </label>

      <!-- Confirmation -->
      <label class="block">
        <span class="label">Confirme le mot de passe</span>
        <input
          type="password"
          name="confirmPassword"
          [(ngModel)]="confirmPassword"
          required
          placeholder="••••••••"
          class="input mt-1"
        />
      </label>

      <!-- Erreur locale -->
      <p *ngIf="passwordMismatch" class="text-red-400 text-sm font-medium">
        Les mots de passe ne correspondent pas.
      </p>

      <!-- Bouton -->
      <button
        type="submit"
        [disabled]="resetForm.invalid"
        class="btn-primary w-full py-2.5 font-semibold"
      >
        Confirmer
      </button>
    </form>
  </section>
</main>
