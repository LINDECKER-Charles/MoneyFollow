<!-- Template avec composants SCSS + Tailwind -->
<div class="expense-container">
  <div class="expense-card">
    <!-- Header -->
    <div class="card-header">
      <h2 class="text-xl font-light m-0">üí∞ Ajouter une d√©pense</h2>
    </div>

    <div class="expense-form">
      <!-- Message de succ√®s/erreur -->
      <div *ngIf="message" class="alert-success mb-6">
        {{ message }}
      </div>

      <!-- Formulaire -->
      <form (ngSubmit)="onSubmit()" #expenseForm="ngForm" class="space-y-6">
        
        <!-- Montant -->
        <div class="expense-form__group">
          <label for="amount" class="form-label">Montant (‚Ç¨) *</label>
          <input 
            type="number" 
            id="amount"
            name="amount"
            [(ngModel)]="expense.amount"
            (blur)="formatAmount($event)"
            step="0.01"
            min="0"
            class="form-input"
            placeholder="0.00"
            required>
        </div>

        <!-- Description -->
        <div class="expense-form__group">
          <label for="description" class="form-label">Description *</label>
          <input 
            type="text" 
            id="description"
            name="description"
            [(ngModel)]="expense.description"
            class="form-input"
            placeholder="Ex: Courses Carrefour"
            required>
        </div>

        <!-- Cat√©gorie -->
        <div class="expense-form__group">
          <label for="category" class="form-label">Cat√©gorie *</label>
          <select 
            id="category"
            name="category"
            [(ngModel)]="expense.category"
            class="form-input"
            required>
            <option value="">-- Choisir une cat√©gorie --</option>
            <option *ngFor="let cat of categories" [value]="cat">
              {{ cat }}
            </option>
          </select>
        </div>

        <!-- Date -->
        <div class="expense-form__group">
          <label for="date" class="form-label">Date *</label>
          <input 
            type="date" 
            id="date"
            name="date"
            [(ngModel)]="expense.date"
            class="form-input"
            required>
        </div>

        <!-- Boutons d'action -->
        <div class="expense-form__actions">
          <button 
            type="submit" 
            class="btn-primary flex-1"
            [disabled]="!isValidForm() || isSubmitting">
            <span *ngIf="isSubmitting">‚è≥ Ajout en cours...</span>
            <span *ngIf="!isSubmitting">‚úÖ Ajouter la d√©pense</span>
          </button>
          
          <button 
            type="button" 
            class="btn-secondary flex-1"
            (click)="resetForm()"
            [disabled]="isSubmitting">
            üîÑ R√©initialiser
          </button>
        </div>
      </form>

      <!-- Aper√ßu en temps r√©el -->
      <div *ngIf="expense.amount > 0 || expense.description" class="expense-preview">
        <h4 class="expense-preview__title">üìã Aper√ßu</h4>
        <div class="expense-preview__content">
          <p>
            <span class="label">Montant:</span> 
            {{ expense.amount | currency:'EUR':'symbol':'1.2-2' }}
          </p>
          <p>
            <span class="label">Description:</span> 
            {{ expense.description || 'Non renseign√©e' }}
          </p>
          <p>
            <span class="label">Cat√©gorie:</span> 
            {{ expense.category || 'Non s√©lectionn√©e' }}
          </p>
          <p>
            <span class="label">Date:</span> 
            {{ expense.date | date:'dd/MM/yyyy' }}
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
