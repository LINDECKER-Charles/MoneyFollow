<main class="page">
  <section aria-labelledby="profile-title" class="card max-w-lg w-full">
    <!-- Titre -->
    <h1 id="profile-title" class="section-title text-center">Profil utilisateur</h1>

    <!-- État : chargement -->
    <div *ngIf="loading" class="text-center text-muted animate-pulse">
      Chargement des informations...
    </div>

    <!-- État : erreur -->
    <div *ngIf="error" class="text-center text-red-500 font-semibold">
      {{ error }}
    </div>

    <!-- Informations utilisateur -->
    <dl *ngIf="!loading && user" class="profile-info">
      <div class="profile-row">
        <dt>Nom :</dt>
        <dd>{{ user.name }}</dd>
      </div>

      <div class="profile-row">
        <dt>Email :</dt>
        <dd>{{ user.email }}</dd>
      </div>

      <div class="profile-row">
        <dt>Date de création :</dt>
        <dd>{{ user.createdAt | date:'dd/MM/yyyy à HH:mm' }}</dd>
      </div>

      <div class="profile-row items-center">
        <dt>Vérifié :</dt>
        <dd>
          <span
            class="status-pill"
            [ngClass]="user.isVerified ? 'status-verified' : 'status-unverified'"
          >
            {{ user.isVerified ? 'Oui' : 'Non' }}
          </span>
        </dd>
      </div>
    </dl>

    <!-- Actions -->
<div *ngIf="!loading && user" class="profile-actions">
  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
    <a routerLink="/profil/password-change" class="btn-outline p-2">Changer le mot de passe</a>
    <a routerLink="/profil/email-change" class="btn-outline p-2">Changer d’adresse e-mail</a>
    <a routerLink="/profil/name-change" class="btn-outline sm:col-span-2 p-2">Changer de nom</a>
  </div>

  <a
    routerLink="/profil/delete-account"
    class="btn-outline danger mt-6 w-full sm:w-auto mx-auto block text-center p-2"
  >
    Supprimer le compte
  </a>
</div>


    <!-- Bouton déconnexion -->
    <div *ngIf="!loading && user" class="text-center mt-8">
      <button (click)="logout()" class="btn-primary w-full py-2.5 font-semibold">
        Déconnexion
      </button>
    </div>
  </section>
</main>
